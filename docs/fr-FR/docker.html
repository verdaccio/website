<!DOCTYPE html><html lang="fr-FR"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Docker · Verdaccio</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="![alt Docker Pulls Count](https://dockeri.co/image/verdaccio/verdaccio &quot;Docker Pulls Count&quot;)"/><meta name="docsearch:version" content="4.4.4"/><meta name="docsearch:language" content="fr-FR"/><meta property="og:title" content="Docker · Verdaccio"/><meta property="og:type" content="website"/><meta property="og:url" content="https://verdaccio.org//"/><meta property="og:description" content="![alt Docker Pulls Count](https://dockeri.co/image/verdaccio/verdaccio &quot;Docker Pulls Count&quot;)"/><meta name="twitter:card" content="summary"/><link rel="shortcut icon" href="/img/favicon/favicon.ico"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/atom-one-dark.min.css"/><link rel="alternate" type="application/atom+xml" href="https://verdaccio.org/blog/atom.xml" title="Verdaccio Blog ATOM Feed"/><link rel="alternate" type="application/rss+xml" href="https://verdaccio.org/blog/feed.xml" title="Verdaccio Blog RSS Feed"/><script>
              (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
              (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
              m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
              })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

              ga('create', 'UA-2527438-21', 'auto');
              ga('send', 'pageview');
            </script><link rel="stylesheet" href="/css/code-blocks-buttons.css"/><script type="text/javascript" src="https://codefund.io/properties/256/funder.js"></script><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script><script type="text/javascript" src="/js/code-blocks-buttons.js"></script><script src="https://unpkg.com/vanilla-back-to-top@7.1.14/dist/vanilla-back-to-top.min.js"></script><script>
        document.addEventListener('DOMContentLoaded', function() {
          addBackToTop(
            {"zIndex":100}
          )
        });
        </script><script src="/js/scrollSpy.js"></script><link rel="stylesheet" href="/css/prism.css"/><link rel="stylesheet" href="/css/main.css"/><script src="/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/fr-FR"><img class="logo" src="/img/logo/symbol/svg/verdaccio-tiny.svg" alt="Verdaccio"/><h2 class="headerTitleWithLogo">Verdaccio</h2></a><a href="/fr-FR/versions"><h3>4.4.4</h3></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class="siteNavGroupActive"><a href="/docs/fr-FR/installation" target="_self">Docs</a></li><li class=""><a href="/blog/" target="_self">Blog</a></li><li class=""><a href="https://twitter.com/verdaccio_npm" target="_self">Twitter</a></li><li class=""><a href="/fr-FR/help" target="_self">Help</a></li><li class=""><a href="https://github.com/verdaccio" target="_self">GitHub</a></li><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search" title="Search"/></li><li class=""><a href="/fr-FR/team" target="_self">Team</a></li><li class=""><a href="https://opencollective.com/verdaccio" target="_self">Sponsor Us</a></li><span><li><a id="languages-menu" href="#"><img class="languages-icon" src="/img/language.svg" alt="Languages icon"/>Français</a><div id="languages-dropdown" class="hide"><ul id="languages-dropdown-items"><li><a href="/docs/en/docker">English</a></li><li><a href="/docs/es-ES/docker">Español</a></li><li><a href="/docs/it-IT/docker">Italiano</a></li><li><a href="/docs/sr-CS/docker">Serbian (Latin)</a></li><li><a href="/docs/zh-CN/docker">中文</a></li><li><a href="/docs/ru-RU/docker">Russian</a></li><li><a href="https://crowdin.com/project/verdaccio" target="_blank" rel="noreferrer noopener">Aidez à traduire</a></li></ul></div></li><script>
        const languagesMenuItem = document.getElementById("languages-menu");
        const languagesDropDown = document.getElementById("languages-dropdown");
        languagesMenuItem.addEventListener("click", function(event) {
          event.preventDefault();

          if (languagesDropDown.className == "hide") {
            languagesDropDown.className = "visible";
          } else {
            languagesDropDown.className = "hide";
          }
        });
      </script></span></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><div class="hamburger-menu"><div class="line1"></div><div class="line2"></div><div class="line3"></div></div></div><h2><i>›</i><span>DevOps</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Introduction<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/fr-FR/what-is-verdaccio">What is Verdaccio?</a></li><li class="navListItem"><a class="navItem" href="/docs/fr-FR/installation">Installation</a></li><li class="navListItem"><a class="navItem" href="/docs/fr-FR/cli">Command Line Tool</a></li><li class="navListItem"><a class="navItem" href="/docs/fr-FR/who-is-using">Who is using Verdaccio?</a></li><li class="navListItem"><a class="navItem" href="/docs/fr-FR/security-policy">Security Policy</a></li><li class="navListItem"><a class="navItem" href="/docs/fr-FR/logo">Logotype</a></li><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Uses Cases</h4><ul><li class="navListItem"><a class="navItem" href="/docs/fr-FR/e2e">End to End testing</a></li><li class="navListItem"><a class="navItem" href="/docs/fr-FR/caching">Caching strategies</a></li><li class="navListItem"><a class="navItem" href="/docs/fr-FR/github-actions">Github Actions</a></li><li class="navListItem"><a class="navItem" href="/docs/fr-FR/linking-remote-registry">Linking a Remote Registry</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Talks &amp; Articles</h4><ul><li class="navListItem"><a class="navItem" href="/docs/fr-FR/articles">Articles</a></li><li class="navListItem"><a class="navItem" href="/docs/fr-FR/talks">Talks</a></li></ul></div></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Features<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/fr-FR/configuration">Configuration File</a></li><li class="navListItem"><a class="navItem" href="/docs/fr-FR/uplinks">Uplinks</a></li><li class="navListItem"><a class="navItem" href="/docs/fr-FR/packages">Package Access</a></li><li class="navListItem"><a class="navItem" href="/docs/fr-FR/authentification">Authentification</a></li><li class="navListItem"><a class="navItem" href="/docs/fr-FR/notifications">Notifications</a></li><li class="navListItem"><a class="navItem" href="/docs/fr-FR/logger">Logger</a></li><li class="navListItem"><a class="navItem" href="/docs/fr-FR/webui">Web User Interface</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Server<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/fr-FR/server-configuration">Server Configuration</a></li><li class="navListItem"><a class="navItem" href="/docs/fr-FR/reverse-proxy">Reverse Proxy Setup</a></li><li class="navListItem"><a class="navItem" href="/docs/fr-FR/ssl">Set up the SSL Certificates</a></li><li class="navListItem"><a class="navItem" href="/docs/fr-FR/windows">Installing As a Windows Service</a></li><li class="navListItem"><a class="navItem" href="/docs/fr-FR/iss-server">Installing on IIS server</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Development<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/fr-FR/plugins">Plugins</a></li><li class="navListItem"><a class="navItem" href="/docs/fr-FR/dev-plugins">Developing Plugins</a></li><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Dev Guides</h4><ul><li class="navListItem"><a class="navItem" href="/docs/fr-FR/plugin-generator">Plugin Generator</a></li><li class="navListItem"><a class="navItem" href="/docs/fr-FR/plugin-auth">Authentication Plugin</a></li><li class="navListItem"><a class="navItem" href="/docs/fr-FR/plugin-middleware">Middleware Plugin</a></li><li class="navListItem"><a class="navItem" href="/docs/fr-FR/plugin-storage">Storage Plugin</a></li></ul></div><li class="navListItem"><a class="navItem" href="/docs/fr-FR/node-api">Node API</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">DevOps<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem navListItemActive"><a class="navItem" href="/docs/fr-FR/docker">Docker</a></li><li class="navListItem"><a class="navItem" href="/docs/fr-FR/kubernetes">Kubernetes</a></li><li class="navListItem"><a class="navItem" href="/docs/fr-FR/ci">Continuous Integration</a></li><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Cloud</h4><ul><li class="navListItem"><a class="navItem" href="/docs/fr-FR/amazon">Amazon Web Services</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Tools</h4><ul><li class="navListItem"><a class="navItem" href="/docs/fr-FR/ansible">Ansible</a></li><li class="navListItem"><a class="navItem" href="/docs/fr-FR/puppet">Puppet</a></li><li class="navListItem"><a class="navItem" href="/docs/fr-FR/chef">Chef Cookbook</a></li></ul></div></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Guides<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/fr-FR/best">Best Practices</a></li><li class="navListItem"><a class="navItem" href="/docs/fr-FR/protect-your-dependencies">Protecting packages</a></li></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              var headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                var el = event.target;
                while(el !== headings){
                  if (el.tagName === 'A') {
                    document.body.classList.remove('tocActive');
                    break;
                  } else{
                    el = el.parentNode;
                  }
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="https://crowdin.com/project/verdaccio/fr-FR" target="_blank" rel="noreferrer noopener">Translate</a><h1 class="postHeaderTitle">Docker</h1></header><article><div><span><p><img src="https://dockeri.co/image/verdaccio/verdaccio" alt="alt Docker Pulls Count" title="Docker Pulls Count"></p>
<p>Pour télécharger la dernière <a href="https://hub.docker.com/r/verdaccio/verdaccio/">image docker</a> prédéfinie:</p>
<pre><code class="hljs css language-bash">docker pull verdaccio/verdaccio
</code></pre>
<p><img src="/docs/assets/docker_verdaccio.gif" alt="Docker pull"></p>
<div id="codefund">''</div>
<h2><a class="anchor" aria-hidden="true" id="versions-marquees"></a><a href="#versions-marquees" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Versions marquées</h2>
<p>À partir de la version <code>v2.x</code>, vous pouvez obtenir des images du menu fixe pour la <a href="https://hub.docker.com/r/verdaccio/verdaccio/tags/">tag</a>, comme suit:</p>
<p>Pour une version majeure:</p>
<pre><code class="hljs css language-bash">docker pull verdaccio/verdaccio:4
</code></pre>
<p>Pour une version mineure:</p>
<pre><code class="hljs css language-bash">docker pull verdaccio/verdaccio:4.0
</code></pre>
<p>Pour une version spécifique (patch):</p>
<pre><code class="hljs css language-bash">docker pull verdaccio/verdaccio:4.0.0
</code></pre>
<blockquote>
<p>Si vous êtes intéréssés par une liste de tags, <a href="https://hub.docker.com/r/verdaccio/verdaccio/tags/">veuillez visiter le site web Docker Hub</a>.</p>
</blockquote>
<h2><a class="anchor" aria-hidden="true" id="running-verdaccio-using-docker"></a><a href="#running-verdaccio-using-docker" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Running Verdaccio using Docker</h2>
<p>Pour exécuter le conteneur de docker:</p>
<pre><code class="hljs css language-bash">docker run -it --rm --name verdaccio -p 4873:4873 verdaccio/verdaccio
</code></pre>
<p>The last argument defines which image to use. The above line will pull the latest prebuilt image from dockerhub, if you haven't done that already.</p>
<p>Si vous avez <a href="#build-your-own-docker-image">construit une image localement</a>, utilisez <code>verdaccio</code> comme dernier argument.</p>
<p>Vous pouvez utiliser <code>-v</code> pour monter <code>conf</code>, <code>storage</code> et <code>plugins</code> dans le système de fichiers hôte:</p>
<pre><code class="hljs css language-bash">V_PATH=/path/<span class="hljs-keyword">for</span>/verdaccio; docker run -it --rm --name verdaccio \
  -p 4873:4873 \
  -v <span class="hljs-variable">$V_PATH</span>/conf:/verdaccio/conf \
  -v <span class="hljs-variable">$V_PATH</span>/storage:/verdaccio/storage \
  -v <span class="hljs-variable">$V_PATH</span>/plugins:/verdaccio/plugins \
  verdaccio/verdaccio
</code></pre>
<blockquote>
<p>Note: Verdaccio runs as a non-root user (uid=10001) inside the container, if you use bind mount to override default, you need to make sure the mount directory is assigned to the right user. In above example, you need to run <code>sudo chown -R 10001:65533 /opt/verdaccio</code> otherwise you will get permission errors at runtime. <a href="https://docs.docker.com/storage/volumes/">Utiliser le volume docker</a> est recommandé, plutôt qu'utiliser le lieu du montage de liaison.</p>
</blockquote>
<p>Verdaccio 4 provides a new set of environment variables to modify either permissions, port or http protocol. Here the complete list:</p>
<table>
<thead>
<tr><th>Propriété</th><th>default</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>VERDACCIO_APPDIR</td><td><code>/opt/verdaccio</code></td><td>the docker working directory</td></tr>
<tr><td>VERDACCIO_USER_NAME</td><td><code>verdaccio</code></td><td>the system user</td></tr>
<tr><td>VERDACCIO_USER_UID</td><td><code>10001</code></td><td>the user id being used to apply folder permissions</td></tr>
<tr><td>VERDACCIO_PORT</td><td><code>4873</code></td><td>the verdaccio port</td></tr>
<tr><td>VERDACCIO_PROTOCOL</td><td><code>http</code></td><td>the default http protocol</td></tr>
</tbody>
</table>
<h3><a class="anchor" aria-hidden="true" id="plugins"></a><a href="#plugins" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Plugins</h3>
<p>Les plugins peuvent être installés dans un dossier séparé et montés à l'aide de Docker ou de Kubernetes. Cependant, veillez à créer des plugins avec des dépendances natives à l'aide de la même image de base du fichier Docker de Verdaccio.</p>
<pre><code class="hljs css language-docker"><span class="hljs-keyword">FROM</span> verdaccio/verdaccio

<span class="hljs-keyword">USER</span> root

<span class="hljs-keyword">ENV</span> NODE_ENV=production

<span class="hljs-keyword">RUN</span><span class="bash"> npm i &amp;&amp; npm install verdaccio-s3-storage</span>

<span class="hljs-keyword">USER</span> verdaccio
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="configuration-de-docker-et-du-port-personnalise"></a><a href="#configuration-de-docker-et-du-port-personnalise" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Configuration de Docker et du port personnalisé</h3>
<p>Any <code>host:port</code> configured in <code>conf/config.yaml</code> under <code>listen</code> <strong>is currently ignored when using docker</strong>.</p>
<p>If you want to reach Verdaccio docker instance under different port, lets say <code>5000</code> in your <code>docker run</code> command add the environment variable <code>VERDACCIO_PORT=5000</code> and then expose the port <code>-p 5000:5000</code>.</p>
<pre><code class="hljs css language-bash">V_PATH=/path/<span class="hljs-keyword">for</span>/verdaccio; docker run -it --rm --name verdaccio \
  -e <span class="hljs-string">"VERDACCIO_PORT=8080"</span> -p 8080:8080 \  
  verdaccio/verdaccio
</code></pre>
<p>Of course the numbers you give to <code>-p</code> paremeter need to match.</p>
<h3><a class="anchor" aria-hidden="true" id="utiliser-https-avec-docker"></a><a href="#utiliser-https-avec-docker" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Utiliser HTTPS avec Docker</h3>
<p>Vous pouvez configurer le protocole que verdaccio écoutera, de la même manière que le port. Vous devez remplacer la valeur par défaut (&quot;http&quot;) de la variable d'environnement du <code>PROTOCOL</code> par &quot;https&quot; après avoir spécifié les certificats dans le fichier config.yaml.</p>
<pre><code class="hljs css language-bash">docker run -it --rm --name verdaccio \
  --env <span class="hljs-string">"VERDACCIO_PROTOCOL=https"</span> -p 4873:4873
  verdaccio/verdaccio
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="utiliser-docker-compose"></a><a href="#utiliser-docker-compose" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Utiliser docker-compose</h3>
<ol>
<li>Obtenir la dernière version de <a href="https://github.com/docker/compose">docker-composer</a>.</li>
<li>Générer et exécuter le conteneur:</li>
</ol>
<pre><code class="hljs css language-bash">$ docker-compose up --build
</code></pre>
<p>You can set the port to use (for both container and host) by prefixing the above command with <code>VERDACCIO_PORT=5000</code>.</p>
<pre><code class="hljs css language-yaml"><span class="hljs-attr">version:</span> <span class="hljs-string">'3.1'</span>

<span class="hljs-attr">services:</span>
<span class="hljs-attr">  verdaccio:</span>
<span class="hljs-attr">    image:</span> <span class="hljs-string">verdaccio/verdaccio</span>
<span class="hljs-attr">    container_name:</span> <span class="hljs-string">"verdaccio"</span>
<span class="hljs-attr">    networks:</span>
<span class="hljs-bullet">      -</span> <span class="hljs-string">node-network</span>
<span class="hljs-attr">    environment:</span>
<span class="hljs-bullet">      -</span> <span class="hljs-string">VERDACCIO_PORT=4873</span>
<span class="hljs-attr">    ports:</span>
<span class="hljs-bullet">      -</span> <span class="hljs-string">"4873:4873"</span>
<span class="hljs-attr">    volumes:</span>
<span class="hljs-bullet">      -</span> <span class="hljs-string">"./storage:/verdaccio/storage"</span>
<span class="hljs-bullet">      -</span> <span class="hljs-string">"./config:/verdaccio/conf"</span>
<span class="hljs-bullet">      -</span> <span class="hljs-string">"./plugins:/verdaccio/plugins"</span>  
<span class="hljs-attr">networks:</span>
<span class="hljs-attr">  node-network:</span>
<span class="hljs-attr">    driver:</span> <span class="hljs-string">bridge</span>
</code></pre>
<p>Docker générera un volume nommé dans lequel les données d'application persistantes seront stockées. Vous pouvez utiliser <code>docker inspect</code> ou <code>docker volume inspect</code> pour révéler l'emplacement physique du volume et modifier la configuration, comme:</p>
<pre><code class="hljs css language-bash">$ docker volume inspect verdaccio_verdaccio
[
    {
        <span class="hljs-string">"Name"</span>: <span class="hljs-string">"verdaccio_verdaccio"</span>,
        <span class="hljs-string">"Driver"</span>: <span class="hljs-string">"local"</span>,
        <span class="hljs-string">"Mountpoint"</span>: <span class="hljs-string">"/var/lib/docker/volumes/verdaccio_verdaccio/_data"</span>,
        <span class="hljs-string">"Labels"</span>: null,
        <span class="hljs-string">"Scope"</span>: <span class="hljs-string">"local"</span>
    }
]

</code></pre>
<h2><a class="anchor" aria-hidden="true" id="creer-votre-propre-image-docker"></a><a href="#creer-votre-propre-image-docker" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Créer votre propre image Docker</h2>
<pre><code class="hljs css language-bash">docker build -t verdaccio .
</code></pre>
<p>Il existe également un script npm pour créer une image docker, vous pouvez donc également:</p>
<pre><code class="hljs css language-bash">yarn run build:docker
</code></pre>
<p>Remarque: La première génération prend quelques minutes pour être créée car elle doit démarrer <code>npm install</code> et peut prendre le même temps chaque fois que vous modifiez un fichier ne figurant pas dans la liste <code>.dockerignore</code>.</p>
<p>Veuillez noter que pour chacune des commandes de menu mentionnées ci-dessus, il est nécessaire d’installer le docker sur le PC, aussi le docker exécutable doit être disponible sur <code>$PATH</code>.</p>
<h2><a class="anchor" aria-hidden="true" id="exemples-de-docker"></a><a href="#exemples-de-docker" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Exemples de docker</h2>
<p>Il existe un dossier distinct qui héberge plusieurs configurations pour composer des images Docker avec <code>verdaccio</code>, par exemple, en tant que proxy inverse:</p>
<p><a href="https://github.com/verdaccio/docker-examples">https://github.com/verdaccio/docker-examples</a></p>
<h2><a class="anchor" aria-hidden="true" id="constructions-personnalisees-de-docker"></a><a href="#constructions-personnalisees-de-docker" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Constructions personnalisées de Docker</h2>
<blockquote>
<p>If you have made an image based on Verdaccio, feel free to add it to this list.</p>
</blockquote>
<ul>
<li><a href="https://github.com/snics/docker-verdaccio-gitlab">docker-verdaccio-gitlab</a></li>
<li><a href="https://github.com/deployable/docker-verdaccio">docker-verdaccio</a></li>
<li><a href="https://github.com/asynchrony/docker-verdaccio-s3">docker-verdaccio-s3</a> conteneur privé NPM pouvant être sauvegardé en s3</li>
<li><a href="https://github.com/snadn/docker-verdaccio-ldap">docker-verdaccio-ldap</a></li>
<li><a href="https://github.com/nathantreid/verdaccio-ldap">verdaccio-ldap</a></li>
<li><a href="https://github.com/shingtoli/verdaccio-compose-local-bridge">verdaccio-compose-local-bridge</a></li>
<li><a href="https://github.com/Global-Solutions/docker-verdaccio">docker-verdaccio</a></li>
<li><a href="https://github.com/idahobean/verdaccio-docker">verdaccio-docker</a></li>
<li><a href="https://github.com/andru255/verdaccio-server">verdaccio-server</a></li>
<li><a href="https://github.com/coldrye-docker/coldrye-debian-verdaccio">coldrye-debian-verdaccio</a> image de docker fournissant verdaccio à partir de coldrye-debian-nodejs.</li>
</ul>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="/docs/fr-FR/node-api"><span class="arrow-prev">← </span><span>Node API</span></a><a class="docs-next button" href="/docs/fr-FR/kubernetes"><span>Kubernetes</span><span class="arrow-next"> →</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#versions-marquees">Versions marquées</a></li><li><a href="#running-verdaccio-using-docker">Running Verdaccio using Docker</a><ul class="toc-headings"><li><a href="#plugins">Plugins</a></li><li><a href="#configuration-de-docker-et-du-port-personnalise">Configuration de Docker et du port personnalisé</a></li><li><a href="#utiliser-https-avec-docker">Utiliser HTTPS avec Docker</a></li><li><a href="#utiliser-docker-compose">Utiliser docker-compose</a></li></ul></li><li><a href="#creer-votre-propre-image-docker">Créer votre propre image Docker</a></li><li><a href="#exemples-de-docker">Exemples de docker</a></li><li><a href="#constructions-personnalisees-de-docker">Constructions personnalisées de Docker</a></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/" class="nav-home"><img src="/img/logo/symbol/svg/verdaccio-blackwhite.svg" alt="Verdaccio" width="66" height="58"/></a><div><h5>Docs</h5><a href="/docs/fr-FR/what-is-verdaccio.html">Getting Started</a><a href="/docs/fr-FR/docker.html">Docker</a><a href="/docs/fr-FR/configuration.html">Configuration</a><a href="/docs/fr-FR/logo">Logos</a></div><div><h5>Community</h5><a href="/fr-FR/users.html">User Showcase</a><a href="https://stackoverflow.com/search?q=verdaccio" target="_blank">Stack Overflow</a><a href="http://chat.verdaccio.org" target="_blank">Project Chat</a><a href="https://twitter.com/verdaccio_npm" target="_blank"><img alt="Follow Verdaccio on Twitter" src="https://img.shields.io/twitter/follow/verdaccio_npm.svg?label=Follow+Verdaccio&amp;style=social"/></a></div><div><h5>More</h5><a href="https://medium.com/verdaccio" target="_blank">Blog</a><a href="https://github.com/verdaccio" target="_blank">GitHub</a><a class="github-button" href="https://github.com/verdaccio/verdaccio" data-icon="octicon-star" data-count-href="/verdaccio/verdaccio/stargazers" data-show-count="true" data-count-aria-label="# stargazers on GitHub" aria-label="Star this project on GitHub">Star</a></div></section></footer></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>window.twttr=(function(d,s, id){var js,fjs=d.getElementsByTagName(s)[0],t=window.twttr||{};if(d.getElementById(id))return t;js=d.createElement(s);js.id=id;js.src='https://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js, fjs);t._e = [];t.ready = function(f) {t._e.push(f);};return t;}(document, 'script', 'twitter-wjs'));</script><script>
                document.addEventListener('keyup', function(e) {
                  if (e.target !== document.body) {
                    return;
                  }
                  // keyCode for '/' (slash)
                  if (e.keyCode === 191) {
                    const search = document.getElementById('search_input_react');
                    search && search.focus();
                  }
                });
              </script><script>
              var search = docsearch({
                
                apiKey: 'a8b4d117e513cd8d71d6a95e3d9d4a91',
                indexName: 'verdaccio',
                inputSelector: '#search_input_react'
              });
            </script></body></html>